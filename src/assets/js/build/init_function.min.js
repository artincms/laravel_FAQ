function dataTablesGrid(e,t,n,a,s,r,i,o,l,c,d,u,f,p){i=i||!1,o=o||!1,l=l||!1,c=c||0,d=d||"desc",s=s||{},u=u||!1,p=p||0,f=f||!1;window[t+"_rows_selected"]=[],u&&(checkbox_column={title:'<input name="select_all" value="1" type="checkbox"/>',searchable:!1,orderable:!1,width:"1%",className:"dt-body-center",render:function(e,t,n,a){return'<input type="checkbox">'}},a.unshift(checkbox_column));var h={initComplete:function(){1==r&&this.api().columns().every(function(){var e=this,t=$('<select class="filter-select" data-placeholder="Filter"><option value=""></option></select>').appendTo($(e.footer()).not(":last-child").empty()).on("change",function(){var t=$.fn.dataTable.util.escapeRegex($(this).val());e.search(t?"^"+t+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(e,n){t.append('<option value="'+e+'">'+e+"</option>")})})},displayStart:p,fixedColumns:f,ajax:{url:n,type:"POST",data:s},columns:a,scrollX:i,scrollY:o,scrollCollapse:l,order:[[c,d]],rowCallback:function(e,n,a){if(u){func_search_in_obj("id",n.id,window[t+"_rows_selected"])&&($(e).find('input[type="checkbox"]').prop("checked",!0),$(e).addClass("selected"))}},destroy:!0};o||(delete h.scrollY,delete h.scrollCollapse),window[t]=$(e).DataTable(h),u&&($(e).on("click",'input[type="checkbox"]',function(e){var n=$(this).closest("tr"),a=window[t].row(n).data(),s=a,r=$.inArray(s,window[t+"_rows_selected"]);this.checked&&-1===r?window[t+"_rows_selected"].push(s):this.checked||-1===r||window[t+"_rows_selected"].splice(r,1),this.checked?n.addClass("selected"):n.removeClass("selected"),updateDataTableSelectAllCtrl(window[t]),e.stopPropagation()}),$(e).on("click","tbody td, thead th:first-child",function(e){$(this).parent().find('input[type="checkbox"]').trigger("click")}),$('thead input[name="select_all"]',window[t].table().container()).on("click",function(t){this.checked?$(e+' tbody input[type="checkbox"]:not(:checked)').trigger("click"):$(e+' tbody input[type="checkbox"]:checked').trigger("click"),t.stopPropagation()}),window[t].on("draw",function(){updateDataTableSelectAllCtrl(window[t])}))}function updateDataTableSelectAllCtrl(e){var t=e.table().node(),n=$('tbody input[type="checkbox"]',t),a=$('tbody input[type="checkbox"]:checked',t),s=$('thead input[name="select_all"]',t).get(0);0===a.length?(s.checked=!1,"indeterminate"in s&&(s.indeterminate=!1)):a.length===n.length?(s.checked=!0,"indeterminate"in s&&(s.indeterminate=!1)):(s.checked=!0,"indeterminate"in s&&(s.indeterminate=!0))}function init_select2_ajax(e,t,n,a,s,r,i){n=n||!1,i=i||null,s=s||!1,a=a||!1,r=r||"جستجو کنید ...",t=t||'{{ "222"}}',$(e).select2({minimumInputLength:3,allowClear:n,multiple:a,tags:s,dir:"rtl",width:"100%",placeholder:r,language:"fa",ajax:{url:t,dataType:"json",type:"POST",quietMillis:150,data:function(e){return{term:e,selectable_id:i}},results:function(e){return{results:$.map(e,function(e){return{text:e.text,id:e.id}})}}}})}function init_select2_data(e,t,n,a,s,r,i){a=a||!1,n=n||!1,r=r||!1,s=s||!1,i=i||"جستجو کنید ...",t=t||'{{ "222"}}',$(e).select2({minimumInputLength:n,allowClear:a,multiple:s,tags:r,dir:"rtl",width:"100%",placeholder:i,language:"fa",data:t})}function clear_form_elements(e){e=e||"document",$(e).find(":input").each(function(){switch(this.type){case"password":case"select-multiple":case"select-one":case"text":case"textarea":$(this).val("");break;case"checkbox":case"radio":this.checked=!1}})}function checkUsername(e){var t=/\W/;return null==e?"^<strong>وارد کردن نام کاربری الزامی است.</strong>":t.test(e)?"^<strong>نام کاربری فقط می تواند ترکیبی از اعداد و حروف انگلیسی باشد.</strong>":e.length<5?"^<strong>نام کابری باید حداقل 5 کاراکتر باشد.</strong>":e.length>20?"^<strong>نام کابری باید حداکثر 20 کاراکتر باشد.</strong>":null}function checkCodeMelli(e){if(!/^\d{10}$/.test(e)||"0000000000"==e||"1111111111"==e||"2222222222"==e||"3333333333"==e||"4444444444"==e||"5555555555"==e||"6666666666"==e||"7777777777"==e||"8888888888"==e||"9999999999"==e)return!1;var t,n=parseInt(e[9]),a=0;for(t=0;t<9;++t)a+=parseInt(e[t])*(10-t);return(a%=11)<2&&n==a||a>=2&&n+a==11}function checkMobileNumber(e){return!!/^09[0-9]{9}$/.test(e)}function check_national_id(e){if(e.length<11||0==parseInt(e,10))return!1;if(0==parseInt(e.substr(3,6),10))return!1;for(var t=parseInt(e.substr(10,1),10),n=parseInt(e.substr(9,1),10)+2,a=new Array(29,27,23,19,17),s=0,r=0;r<10;r++)s+=(n+parseInt(e.substr(r,1),10))*a[r%5];return s%=11,10==s&&(s=0),t==s}function init_validatejs(e,t,n,a,s,r){var r=r||!1,s=s||!1;if(a=a||"#"+e.id,s)var i=e.querySelectorAll(" button[type=submit]"+s);else var i=e.querySelectorAll("button[type=submit]");for(var o=0;o<i.length;++o)i.item(o).addEventListener("click",function(s){s.preventDefault();var i=$(this).val();handleFormSubmit(e,t,n,i,a,r)});for(var l=e.querySelectorAll("input, textarea, select"),o=0;o<l.length;++o)"select-one"==l.item(o).type&&($("#"+l.item(o).name).on("select2:unselect",function(n){var a=validate(e,t)||{};showErrors(e,a||{})}),$("#"+l.item(o).name).on("select2:select",function(n){var a=validate(e,t)||{};showErrors(e,a||{})})),l.item(o).addEventListener("focusout",function(n){showErrorsForInput(this,(validate(e,t)||{})[this.name])})}function handleFormSubmit(e,t,n,a,s,r){var i=validate(e,t);r&&console.log(i),showErrors(e,i||{}),i||($(s).append(generate_loader_html("لطفا منتظر بمانید...")),n(e,a))}function showErrors(e,t){_.each(e.querySelectorAll("input[name], select[name], textarea[name]"),function(e){showErrorsForInput(e,t&&t[e.name])})}function showErrorsForInput(e,t){if("hidden"!=e.type){var n=closestParent(e.parentNode,"form-group"),a=n.querySelector(".messages");resetFormGroup(n),t?(n.classList.add("has-error"),_.each(t,function(e){addError(a,e)})):n.classList.add("has-success")}}function closestParent(e,t){return e&&e!=document?e.classList.contains(t)?e:closestParent(e.parentNode,t):null}function resetFormGroup(e){e.classList.remove("has-error"),e.classList.remove("has-success"),_.each(e.querySelectorAll(".help-block.error"),function(e){e.parentNode.removeChild(e)})}function addError(e,t){var n=document.createElement("p");n.classList.add("help-block"),n.classList.add("error"),n.innerHTML=t,e.appendChild(n)}function showMessages(e,t,n,a){$(document).off("click","#"+t),$(document).on("click","#"+t,function(){s.classList.remove("message_show")});var s=document.querySelector("#"+t);s.innerHTML="",s.classList.remove("message_show"),s.classList.remove("message_info"),s.classList.remove("message_success"),s.classList.remove("message_error"),s.classList.add("message_show"),"info"==n&&s.classList.add("message_info"),"success"==n&&s.classList.add("message_success"),"error"==n&&s.classList.add("message_error"),"warning"==n&&s.classList.add("message_warning");var r=document.createElement("ul");$.each(e,function(e,t){var n=document.createElement("li"),a=document.createElement("ul");$.each(t.items,function(e,t){var n=document.createElement("li");n.innerHTML="<h6>"+t+"</h6>",a.appendChild(n)}),n.innerHTML="<h5>"+t.title+"</h5>",n.append(a),r.appendChild(n)}),s.append(r);var i=document.createElement("button");i.classList.add("close_message_btn"),i.classList.add("fa"),i.classList.add("fa-times"),s.append(i),document.getElementById(t).scrollIntoView()}function generate_loader_html(e){return'<div class="total_loader">   <div class="total_loader_content" style="">       <div class="spinner_area">           <div class="spinner_rects">               <div class="rect1"></div>               <div class="rect2"></div>               <div class="rect3"></div>               <div class="rect4"></div>               <div class="rect5"></div>           </div>       </div>       <div class="text_area">'+e+"</div>   </div></div>"}function menotify(e,t,n){PNotify.desktop.permission(),new PNotify({title:t,type:e,text:n,desktop:{desktop:!0}})}function yesNoAlert(e,t,n,a,s,r,i,o,l){o=o||!1,l=l||{},swal({title:e,text:t,type:n,showCancelButton:!0,confirmButtonColor:"#EF5350",confirmButtonText:a,cancelButtonText:s,closeOnConfirm:!1,closeOnCancel:!1},function(e){e?(r(i),swal.close()):(o&&o(l),swal.close())})}function init_doAfterStopTyping(e,t,n,a){function s(){clearTimeout(r),r=setTimeout(function(){return n?t(i.val(),n):t(i.val())},o)}e=e||"document",n=n||!1,a=a||500;var r,i=$(e),o=a;$(document).on("keyup",e,s),$(document).on("keydown",e,function(){clearTimeout(r)})}function init_touch_swipe(e,t,n,a,s){var r=a||10,i=s||null;$(function(){$(e).swipe({swipe:function(n,a){window[t](e,n,a,i)},swipeStatus:function(t,a){window[n](e,t,a,i)},threshold:r})})}function _carousel_swipe(e,t,n,a){"right"===n||"down"===n?$(a).carousel("next"):"left"!==n&&"up"!==n||$(a).carousel("prev")}function _carousel_swipe_status(e,t,n,a){}function init_touch_swipe_carousel(){$(".carousel").each(function(e,t){init_touch_swipe("#"+$(t).attr("id")+" .carousel-inner img","_carousel_swipe","_carousel_swipe_status",30,"#"+$(t).attr("id"))})}function set_fixed_dropdown_menu(e){$(e).find(".dropdown_gallery").toggleClass("hidden");var t=$(e).offset(),n=($(e).position(),$(document).scrollTop()),a=($(document).scrollLeft(),$(e).find(".dropdown_gallery").height()+16);$(window).height()-t.top>a?($(e).find(".dropdown_gallery").css({position:"fixed",top:t.top-n+16,left:Math.abs(t.left)+20,height:"fit-content"}),window.addEventListener("scroll",function(n){var a=this.scrollY;$(e).find(".dropdown_gallery").css("top",t.top-a+16)})):($(e).find(".dropdown_gallery").css({position:"fixed",top:t.top-n+16-a,left:Math.abs(t.left)+20,height:"fit-content"}),window.addEventListener("scroll",function(n){var s=this.scrollY;$(e).find(".dropdown_gallery").css("top",t.top-s+16-a)}))}var CommonDom_DataTables='<"datatable-header"fl><"datatable-scroll"t><"datatable-footer"ip>',LangJson_DataTables={decimal:"",emptyTable:"هیچ داده ای در جدول وجود ندارد",info:"نمایش _START_ تا _END_ از _TOTAL_ رکورد",infoEmpty:"نمایش 0 تا 0 از 0 رکورد",infoFiltered:"(فیلتر شده از _MAX_ رکورد)",infoPostFix:"",thousands:",",lengthMenu:"نمایش _MENU_ رکورد",loadingRecords:"در حال بارگزاری...",processing:"در حال پردازش...",search:"جستجو: ",zeroRecords:"رکوردی با این مشخصات پیدا نشد",paginate:{first:"ابتدا",last:"انتها",next:"بعدی",previous:"قبلی"},aria:{sortAscending:": فعال سازی نمایش به صورت صعودی",sortDescending:": فعال سازی نمایش به صورت نزولی"}};$.extend($.fn.dataTable.defaults,{autoWidth:!1,dom:CommonDom_DataTables,language:LangJson_DataTables,processing:!0,serverSide:!0,drawCallback:function(){$(this).find("tbody tr").slice(-3).find(".dropdown, .btn-group").addClass("dropup")},preDrawCallback:function(){$(this).find("tbody tr").slice(-3).find(".dropdown, .btn-group").removeClass("dropup")}}),validate.validators.username=function(e,t,n,a){var s=checkUsername(e);return""==s?null:t.message?t.message:s},validate.validators.only_english=function(e,t,n,a){if(null!=e)return/[^A-Za-z]/g.test(e)?t.message:null},validate.validators.only_persian=function(e,t,n,a){if(null!=e)return/@"^([\u0600-\u06FF]+\s?)+$"/g.test(e)?t.message:null},validate.validators.only_numbers=function(e,t,n,a){if(null!=e)return/[^0-9]/g.test(e)?t.message:null},validate.validators.national_id=function(e,t,n,a){if(null!=e)return check_national_id(e)?null:t.message},validate.validators.codeMelli=function(e,t,n,a){if(null!=e)return checkCodeMelli(e)?null:t.message},validate.validators.iranMobileNumber=function(e,t,n,a){if(null!=e)return checkMobileNumber(e)?null:t.message},validate.validators.require_if_presence=function(e,t,n,a){return other_attribute_presence=null==a[t.other_attribute_name],other_attribute_presence?null:null==e?t.message:null},validate.validators.require_if=function(e,t,n,a){var s=!1;switch(t.other_attribute_operand,target_field_value=null==a[t.other_attribute_name]?0:a[t.other_attribute_name],t.other_attribute_operand){case">":s=target_field_value>t.other_attribute_value;break;case"<":s=target_field_value<t.other_attribute_value;break;case">=":s=target_field_value>=t.other_attribute_value;break;case"<=":s=target_field_value<=t.other_attribute_value;break;case"<>":case"!=":s=target_field_value!=t.other_attribute_value;break;case"!==":s=target_field_value!==t.other_attribute_value;break;case"=":case"==":default:s=target_field_value==t.other_attribute_value}if(s){if(null==e)return t.message;if(t.exclusion){var r=!0;return t.exclusion.forEach(function(t){e==t&&(r=!1)}),r?null:t.exclusion_message?t.exclusion_message:t.message}if(t.inclusion){var r=!0;return t.inclusion.forEach(function(t){e!=t&&(r=!1)}),r?null:t.inclusion_message?t.inclusion_message:t.message}return null}return null},validate.extend(validate.validators.datetime,{parse:function(e,t){return+moment.utc(e)},format:function(e,t){var n=t.dateOnly?"YYYY-MM-DD":"YYYY-MM-DD hh:mm:ss";return moment.utc(e).format(n)}});